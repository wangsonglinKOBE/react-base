{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component';\nimport { each, bind, extend } from 'zrender/lib/core/util';\nimport { createOrUpdate } from '../../util/throttle';\nvar CLICK_THRESHOLD = 5; // > 4\n\nvar ParallelView =\n/** @class */\nfunction (_super) {\n  __extends(ParallelView, _super);\n\n  function ParallelView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ParallelView.type;\n    return _this;\n  }\n\n  ParallelView.prototype.render = function (parallelModel, ecModel, api) {\n    this._model = parallelModel;\n    this._api = api;\n\n    if (!this._handlers) {\n      this._handlers = {};\n      each(handlers, function (handler, eventName) {\n        api.getZr().on(eventName, this._handlers[eventName] = bind(handler, this));\n      }, this);\n    }\n\n    createOrUpdate(this, '_throttledDispatchExpand', parallelModel.get('axisExpandRate'), 'fixRate');\n  };\n\n  ParallelView.prototype.dispose = function (ecModel, api) {\n    each(this._handlers, function (handler, eventName) {\n      api.getZr().off(eventName, handler);\n    });\n    this._handlers = null;\n  };\n  /**\n   * @internal\n   * @param {Object} [opt] If null, cancle the last action triggering for debounce.\n   */\n\n\n  ParallelView.prototype._throttledDispatchExpand = function (opt) {\n    this._dispatchExpand(opt);\n  };\n  /**\n   * @internal\n   */\n\n\n  ParallelView.prototype._dispatchExpand = function (opt) {\n    opt && this._api.dispatchAction(extend({\n      type: 'parallelAxisExpand'\n    }, opt));\n  };\n\n  ParallelView.type = 'parallel';\n  return ParallelView;\n}(ComponentView);\n\nvar handlers = {\n  mousedown: function (e) {\n    if (checkTrigger(this, 'click')) {\n      this._mouseDownPoint = [e.offsetX, e.offsetY];\n    }\n  },\n  mouseup: function (e) {\n    var mouseDownPoint = this._mouseDownPoint;\n\n    if (checkTrigger(this, 'click') && mouseDownPoint) {\n      var point = [e.offsetX, e.offsetY];\n      var dist = Math.pow(mouseDownPoint[0] - point[0], 2) + Math.pow(mouseDownPoint[1] - point[1], 2);\n\n      if (dist > CLICK_THRESHOLD) {\n        return;\n      }\n\n      var result = this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n\n      result.behavior !== 'none' && this._dispatchExpand({\n        axisExpandWindow: result.axisExpandWindow\n      });\n    }\n\n    this._mouseDownPoint = null;\n  },\n  mousemove: function (e) {\n    // Should do nothing when brushing.\n    if (this._mouseDownPoint || !checkTrigger(this, 'mousemove')) {\n      return;\n    }\n\n    var model = this._model;\n    var result = model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n    var behavior = result.behavior;\n    behavior === 'jump' && this._throttledDispatchExpand.debounceNextCall(model.get('axisExpandDebounce'));\n\n    this._throttledDispatchExpand(behavior === 'none' ? null // Cancle the last trigger, in case that mouse slide out of the area quickly.\n    : {\n      axisExpandWindow: result.axisExpandWindow,\n      // Jumping uses animation, and sliding suppresses animation.\n      animation: behavior === 'jump' ? null : {\n        duration: 0 // Disable animation.\n\n      }\n    });\n  }\n};\n\nfunction checkTrigger(view, triggerOn) {\n  var model = view._model;\n  return model.get('axisExpandable') && model.get('axisExpandTriggerOn') === triggerOn;\n}\n\nexport default ParallelView;","map":{"version":3,"sources":["D:/桌面/react基础原理分析/react_extension/node_modules/echarts/lib/component/parallel/ParallelView.js"],"names":["__extends","ComponentView","each","bind","extend","createOrUpdate","CLICK_THRESHOLD","ParallelView","_super","_this","apply","arguments","type","prototype","render","parallelModel","ecModel","api","_model","_api","_handlers","handlers","handler","eventName","getZr","on","get","dispose","off","_throttledDispatchExpand","opt","_dispatchExpand","dispatchAction","mousedown","e","checkTrigger","_mouseDownPoint","offsetX","offsetY","mouseup","mouseDownPoint","point","dist","Math","pow","result","coordinateSystem","getSlidedAxisExpandWindow","behavior","axisExpandWindow","mousemove","model","debounceNextCall","animation","duration","view","triggerOn"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,MAArB,QAAmC,uBAAnC;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,IAAIC,eAAe,GAAG,CAAtB,C,CAAyB;;AAEzB,IAAIC,YAAY;AAChB;AACA,UAAUC,MAAV,EAAkB;AAChBR,EAAAA,SAAS,CAACO,YAAD,EAAeC,MAAf,CAAT;;AAEA,WAASD,YAAT,GAAwB;AACtB,QAAIE,KAAK,GAAGD,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACE,KAAP,CAAa,IAAb,EAAmBC,SAAnB,CAAnB,IAAoD,IAAhE;;AAEAF,IAAAA,KAAK,CAACG,IAAN,GAAaL,YAAY,CAACK,IAA1B;AACA,WAAOH,KAAP;AACD;;AAEDF,EAAAA,YAAY,CAACM,SAAb,CAAuBC,MAAvB,GAAgC,UAAUC,aAAV,EAAyBC,OAAzB,EAAkCC,GAAlC,EAAuC;AACrE,SAAKC,MAAL,GAAcH,aAAd;AACA,SAAKI,IAAL,GAAYF,GAAZ;;AAEA,QAAI,CAAC,KAAKG,SAAV,EAAqB;AACnB,WAAKA,SAAL,GAAiB,EAAjB;AACAlB,MAAAA,IAAI,CAACmB,QAAD,EAAW,UAAUC,OAAV,EAAmBC,SAAnB,EAA8B;AAC3CN,QAAAA,GAAG,CAACO,KAAJ,GAAYC,EAAZ,CAAeF,SAAf,EAA0B,KAAKH,SAAL,CAAeG,SAAf,IAA4BpB,IAAI,CAACmB,OAAD,EAAU,IAAV,CAA1D;AACD,OAFG,EAED,IAFC,CAAJ;AAGD;;AAEDjB,IAAAA,cAAc,CAAC,IAAD,EAAO,0BAAP,EAAmCU,aAAa,CAACW,GAAd,CAAkB,gBAAlB,CAAnC,EAAwE,SAAxE,CAAd;AACD,GAZD;;AAcAnB,EAAAA,YAAY,CAACM,SAAb,CAAuBc,OAAvB,GAAiC,UAAUX,OAAV,EAAmBC,GAAnB,EAAwB;AACvDf,IAAAA,IAAI,CAAC,KAAKkB,SAAN,EAAiB,UAAUE,OAAV,EAAmBC,SAAnB,EAA8B;AACjDN,MAAAA,GAAG,CAACO,KAAJ,GAAYI,GAAZ,CAAgBL,SAAhB,EAA2BD,OAA3B;AACD,KAFG,CAAJ;AAGA,SAAKF,SAAL,GAAiB,IAAjB;AACD,GALD;AAMA;AACF;AACA;AACA;;;AAGEb,EAAAA,YAAY,CAACM,SAAb,CAAuBgB,wBAAvB,GAAkD,UAAUC,GAAV,EAAe;AAC/D,SAAKC,eAAL,CAAqBD,GAArB;AACD,GAFD;AAGA;AACF;AACA;;;AAGEvB,EAAAA,YAAY,CAACM,SAAb,CAAuBkB,eAAvB,GAAyC,UAAUD,GAAV,EAAe;AACtDA,IAAAA,GAAG,IAAI,KAAKX,IAAL,CAAUa,cAAV,CAAyB5B,MAAM,CAAC;AACrCQ,MAAAA,IAAI,EAAE;AAD+B,KAAD,EAEnCkB,GAFmC,CAA/B,CAAP;AAGD,GAJD;;AAMAvB,EAAAA,YAAY,CAACK,IAAb,GAAoB,UAApB;AACA,SAAOL,YAAP;AACD,CApDD,CAoDEN,aApDF,CAFA;;AAwDA,IAAIoB,QAAQ,GAAG;AACbY,EAAAA,SAAS,EAAE,UAAUC,CAAV,EAAa;AACtB,QAAIC,YAAY,CAAC,IAAD,EAAO,OAAP,CAAhB,EAAiC;AAC/B,WAAKC,eAAL,GAAuB,CAACF,CAAC,CAACG,OAAH,EAAYH,CAAC,CAACI,OAAd,CAAvB;AACD;AACF,GALY;AAMbC,EAAAA,OAAO,EAAE,UAAUL,CAAV,EAAa;AACpB,QAAIM,cAAc,GAAG,KAAKJ,eAA1B;;AAEA,QAAID,YAAY,CAAC,IAAD,EAAO,OAAP,CAAZ,IAA+BK,cAAnC,EAAmD;AACjD,UAAIC,KAAK,GAAG,CAACP,CAAC,CAACG,OAAH,EAAYH,CAAC,CAACI,OAAd,CAAZ;AACA,UAAII,IAAI,GAAGC,IAAI,CAACC,GAAL,CAASJ,cAAc,CAAC,CAAD,CAAd,GAAoBC,KAAK,CAAC,CAAD,CAAlC,EAAuC,CAAvC,IAA4CE,IAAI,CAACC,GAAL,CAASJ,cAAc,CAAC,CAAD,CAAd,GAAoBC,KAAK,CAAC,CAAD,CAAlC,EAAuC,CAAvC,CAAvD;;AAEA,UAAIC,IAAI,GAAGpC,eAAX,EAA4B;AAC1B;AACD;;AAED,UAAIuC,MAAM,GAAG,KAAK3B,MAAL,CAAY4B,gBAAZ,CAA6BC,yBAA7B,CAAuD,CAACb,CAAC,CAACG,OAAH,EAAYH,CAAC,CAACI,OAAd,CAAvD,CAAb;;AAEAO,MAAAA,MAAM,CAACG,QAAP,KAAoB,MAApB,IAA8B,KAAKjB,eAAL,CAAqB;AACjDkB,QAAAA,gBAAgB,EAAEJ,MAAM,CAACI;AADwB,OAArB,CAA9B;AAGD;;AAED,SAAKb,eAAL,GAAuB,IAAvB;AACD,GAzBY;AA0Bbc,EAAAA,SAAS,EAAE,UAAUhB,CAAV,EAAa;AACtB;AACA,QAAI,KAAKE,eAAL,IAAwB,CAACD,YAAY,CAAC,IAAD,EAAO,WAAP,CAAzC,EAA8D;AAC5D;AACD;;AAED,QAAIgB,KAAK,GAAG,KAAKjC,MAAjB;AACA,QAAI2B,MAAM,GAAGM,KAAK,CAACL,gBAAN,CAAuBC,yBAAvB,CAAiD,CAACb,CAAC,CAACG,OAAH,EAAYH,CAAC,CAACI,OAAd,CAAjD,CAAb;AACA,QAAIU,QAAQ,GAAGH,MAAM,CAACG,QAAtB;AACAA,IAAAA,QAAQ,KAAK,MAAb,IAAuB,KAAKnB,wBAAL,CAA8BuB,gBAA9B,CAA+CD,KAAK,CAACzB,GAAN,CAAU,oBAAV,CAA/C,CAAvB;;AAEA,SAAKG,wBAAL,CAA8BmB,QAAQ,KAAK,MAAb,GAAsB,IAAtB,CAA2B;AAA3B,MAC5B;AACAC,MAAAA,gBAAgB,EAAEJ,MAAM,CAACI,gBADzB;AAEA;AACAI,MAAAA,SAAS,EAAEL,QAAQ,KAAK,MAAb,GAAsB,IAAtB,GAA6B;AACtCM,QAAAA,QAAQ,EAAE,CAD4B,CAC1B;;AAD0B;AAHxC,KADF;AASD;AA9CY,CAAf;;AAiDA,SAASnB,YAAT,CAAsBoB,IAAtB,EAA4BC,SAA5B,EAAuC;AACrC,MAAIL,KAAK,GAAGI,IAAI,CAACrC,MAAjB;AACA,SAAOiC,KAAK,CAACzB,GAAN,CAAU,gBAAV,KAA+ByB,KAAK,CAACzB,GAAN,CAAU,qBAAV,MAAqC8B,SAA3E;AACD;;AAED,eAAejD,YAAf","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component';\nimport { each, bind, extend } from 'zrender/lib/core/util';\nimport { createOrUpdate } from '../../util/throttle';\nvar CLICK_THRESHOLD = 5; // > 4\n\nvar ParallelView =\n/** @class */\nfunction (_super) {\n  __extends(ParallelView, _super);\n\n  function ParallelView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ParallelView.type;\n    return _this;\n  }\n\n  ParallelView.prototype.render = function (parallelModel, ecModel, api) {\n    this._model = parallelModel;\n    this._api = api;\n\n    if (!this._handlers) {\n      this._handlers = {};\n      each(handlers, function (handler, eventName) {\n        api.getZr().on(eventName, this._handlers[eventName] = bind(handler, this));\n      }, this);\n    }\n\n    createOrUpdate(this, '_throttledDispatchExpand', parallelModel.get('axisExpandRate'), 'fixRate');\n  };\n\n  ParallelView.prototype.dispose = function (ecModel, api) {\n    each(this._handlers, function (handler, eventName) {\n      api.getZr().off(eventName, handler);\n    });\n    this._handlers = null;\n  };\n  /**\n   * @internal\n   * @param {Object} [opt] If null, cancle the last action triggering for debounce.\n   */\n\n\n  ParallelView.prototype._throttledDispatchExpand = function (opt) {\n    this._dispatchExpand(opt);\n  };\n  /**\n   * @internal\n   */\n\n\n  ParallelView.prototype._dispatchExpand = function (opt) {\n    opt && this._api.dispatchAction(extend({\n      type: 'parallelAxisExpand'\n    }, opt));\n  };\n\n  ParallelView.type = 'parallel';\n  return ParallelView;\n}(ComponentView);\n\nvar handlers = {\n  mousedown: function (e) {\n    if (checkTrigger(this, 'click')) {\n      this._mouseDownPoint = [e.offsetX, e.offsetY];\n    }\n  },\n  mouseup: function (e) {\n    var mouseDownPoint = this._mouseDownPoint;\n\n    if (checkTrigger(this, 'click') && mouseDownPoint) {\n      var point = [e.offsetX, e.offsetY];\n      var dist = Math.pow(mouseDownPoint[0] - point[0], 2) + Math.pow(mouseDownPoint[1] - point[1], 2);\n\n      if (dist > CLICK_THRESHOLD) {\n        return;\n      }\n\n      var result = this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n\n      result.behavior !== 'none' && this._dispatchExpand({\n        axisExpandWindow: result.axisExpandWindow\n      });\n    }\n\n    this._mouseDownPoint = null;\n  },\n  mousemove: function (e) {\n    // Should do nothing when brushing.\n    if (this._mouseDownPoint || !checkTrigger(this, 'mousemove')) {\n      return;\n    }\n\n    var model = this._model;\n    var result = model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n    var behavior = result.behavior;\n    behavior === 'jump' && this._throttledDispatchExpand.debounceNextCall(model.get('axisExpandDebounce'));\n\n    this._throttledDispatchExpand(behavior === 'none' ? null // Cancle the last trigger, in case that mouse slide out of the area quickly.\n    : {\n      axisExpandWindow: result.axisExpandWindow,\n      // Jumping uses animation, and sliding suppresses animation.\n      animation: behavior === 'jump' ? null : {\n        duration: 0 // Disable animation.\n\n      }\n    });\n  }\n};\n\nfunction checkTrigger(view, triggerOn) {\n  var model = view._model;\n  return model.get('axisExpandable') && model.get('axisExpandTriggerOn') === triggerOn;\n}\n\nexport default ParallelView;"]},"metadata":{},"sourceType":"module"}