{"ast":null,"code":"export function createLinearGradient(ctx, obj, rect) {\n  var x = obj.x == null ? 0 : obj.x;\n  var x2 = obj.x2 == null ? 1 : obj.x2;\n  var y = obj.y == null ? 0 : obj.y;\n  var y2 = obj.y2 == null ? 0 : obj.y2;\n\n  if (!obj.global) {\n    x = x * rect.width + rect.x;\n    x2 = x2 * rect.width + rect.x;\n    y = y * rect.height + rect.y;\n    y2 = y2 * rect.height + rect.y;\n  }\n\n  x = isNaN(x) ? 0 : x;\n  x2 = isNaN(x2) ? 1 : x2;\n  y = isNaN(y) ? 0 : y;\n  y2 = isNaN(y2) ? 0 : y2;\n  var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n  return canvasGradient;\n}\nexport function createRadialGradient(ctx, obj, rect) {\n  var width = rect.width;\n  var height = rect.height;\n  var min = Math.min(width, height);\n  var x = obj.x == null ? 0.5 : obj.x;\n  var y = obj.y == null ? 0.5 : obj.y;\n  var r = obj.r == null ? 0.5 : obj.r;\n\n  if (!obj.global) {\n    x = x * width + rect.x;\n    y = y * height + rect.y;\n    r = r * min;\n  }\n\n  var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n  return canvasGradient;\n}\nexport function getCanvasGradient(ctx, obj, rect) {\n  var canvasGradient = obj.type === 'radial' ? createRadialGradient(ctx, obj, rect) : createLinearGradient(ctx, obj, rect);\n  var colorStops = obj.colorStops;\n\n  for (var i = 0; i < colorStops.length; i++) {\n    canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n  }\n\n  return canvasGradient;\n}\nexport function isClipPathChanged(clipPaths, prevClipPaths) {\n  if (clipPaths === prevClipPaths || !clipPaths && !prevClipPaths) {\n    return false;\n  }\n\n  if (!clipPaths || !prevClipPaths || clipPaths.length !== prevClipPaths.length) {\n    return true;\n  }\n\n  for (var i = 0; i < clipPaths.length; i++) {\n    if (clipPaths[i] !== prevClipPaths[i]) {\n      return true;\n    }\n  }\n\n  return false;\n}","map":{"version":3,"sources":["D:/桌面/react基础原理分析/react_extension/node_modules/zrender/lib/canvas/helper.js"],"names":["createLinearGradient","ctx","obj","rect","x","x2","y","y2","global","width","height","isNaN","canvasGradient","createRadialGradient","min","Math","r","getCanvasGradient","type","colorStops","i","length","addColorStop","offset","color","isClipPathChanged","clipPaths","prevClipPaths"],"mappings":"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","sourcesContent":["export function createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n    if (!obj.global) {\n        x = x * rect.width + rect.x;\n        x2 = x2 * rect.width + rect.x;\n        y = y * rect.height + rect.y;\n        y2 = y2 * rect.height + rect.y;\n    }\n    x = isNaN(x) ? 0 : x;\n    x2 = isNaN(x2) ? 1 : x2;\n    y = isNaN(y) ? 0 : y;\n    y2 = isNaN(y2) ? 0 : y2;\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n    return canvasGradient;\n}\nexport function createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n    if (!obj.global) {\n        x = x * width + rect.x;\n        y = y * height + rect.y;\n        r = r * min;\n    }\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n    return canvasGradient;\n}\nexport function getCanvasGradient(ctx, obj, rect) {\n    var canvasGradient = obj.type === 'radial'\n        ? createRadialGradient(ctx, obj, rect)\n        : createLinearGradient(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n    for (var i = 0; i < colorStops.length; i++) {\n        canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n    return canvasGradient;\n}\nexport function isClipPathChanged(clipPaths, prevClipPaths) {\n    if (clipPaths === prevClipPaths || (!clipPaths && !prevClipPaths)) {\n        return false;\n    }\n    if (!clipPaths || !prevClipPaths || (clipPaths.length !== prevClipPaths.length)) {\n        return true;\n    }\n    for (var i = 0; i < clipPaths.length; i++) {\n        if (clipPaths[i] !== prevClipPaths[i]) {\n            return true;\n        }\n    }\n    return false;\n}\n"]},"metadata":{},"sourceType":"module"}