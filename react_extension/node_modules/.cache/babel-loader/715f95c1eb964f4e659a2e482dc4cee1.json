{"ast":null,"code":"import { __extends } from \"tslib\";\nimport Displayable from './Displayable';\nimport { getBoundingRect, DEFAULT_FONT } from '../contain/text';\nimport { DEFAULT_PATH_STYLE } from './Path';\nimport { createObject, defaults } from '../core/util';\nexport var DEFAULT_TSPAN_STYLE = defaults({\n  strokeFirst: true,\n  font: DEFAULT_FONT,\n  x: 0,\n  y: 0,\n  textAlign: 'left',\n  textBaseline: 'top',\n  miterLimit: 2\n}, DEFAULT_PATH_STYLE);\n\nvar TSpan = function (_super) {\n  __extends(TSpan, _super);\n\n  function TSpan() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TSpan.prototype.hasStroke = function () {\n    var style = this.style;\n    var stroke = style.stroke;\n    return stroke != null && stroke !== 'none' && style.lineWidth > 0;\n  };\n\n  TSpan.prototype.hasFill = function () {\n    var style = this.style;\n    var fill = style.fill;\n    return fill != null && fill !== 'none';\n  };\n\n  TSpan.prototype.createStyle = function (obj) {\n    return createObject(DEFAULT_TSPAN_STYLE, obj);\n  };\n\n  TSpan.prototype.setBoundingRect = function (rect) {\n    this._rect = rect;\n  };\n\n  TSpan.prototype.getBoundingRect = function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      var text = style.text;\n      text != null ? text += '' : text = '';\n      var rect = getBoundingRect(text, style.font, style.textAlign, style.textBaseline);\n      rect.x += style.x || 0;\n      rect.y += style.y || 0;\n\n      if (this.hasStroke()) {\n        var w = style.lineWidth;\n        rect.x -= w / 2;\n        rect.y -= w / 2;\n        rect.width += w;\n        rect.height += w;\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  };\n\n  TSpan.initDefaultProps = function () {\n    var tspanProto = TSpan.prototype;\n    tspanProto.dirtyRectTolerance = 10;\n  }();\n\n  return TSpan;\n}(Displayable);\n\nTSpan.prototype.type = 'tspan';\nexport default TSpan;","map":{"version":3,"sources":["D:/桌面/react基础原理分析/react_extension/node_modules/zrender/lib/graphic/TSpan.js"],"names":["__extends","Displayable","getBoundingRect","DEFAULT_FONT","DEFAULT_PATH_STYLE","createObject","defaults","DEFAULT_TSPAN_STYLE","strokeFirst","font","x","y","textAlign","textBaseline","miterLimit","TSpan","_super","apply","arguments","prototype","hasStroke","style","stroke","lineWidth","hasFill","fill","createStyle","obj","setBoundingRect","rect","_rect","text","w","width","height","initDefaultProps","tspanProto","dirtyRectTolerance","type"],"mappings":"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","sourcesContent":["import { __extends } from \"tslib\";\nimport Displayable from './Displayable';\nimport { getBoundingRect, DEFAULT_FONT } from '../contain/text';\nimport { DEFAULT_PATH_STYLE } from './Path';\nimport { createObject, defaults } from '../core/util';\nexport var DEFAULT_TSPAN_STYLE = defaults({\n    strokeFirst: true,\n    font: DEFAULT_FONT,\n    x: 0,\n    y: 0,\n    textAlign: 'left',\n    textBaseline: 'top',\n    miterLimit: 2\n}, DEFAULT_PATH_STYLE);\nvar TSpan = (function (_super) {\n    __extends(TSpan, _super);\n    function TSpan() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TSpan.prototype.hasStroke = function () {\n        var style = this.style;\n        var stroke = style.stroke;\n        return stroke != null && stroke !== 'none' && style.lineWidth > 0;\n    };\n    TSpan.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    TSpan.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_TSPAN_STYLE, obj);\n    };\n    TSpan.prototype.setBoundingRect = function (rect) {\n        this._rect = rect;\n    };\n    TSpan.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            var text = style.text;\n            text != null ? (text += '') : (text = '');\n            var rect = getBoundingRect(text, style.font, style.textAlign, style.textBaseline);\n            rect.x += style.x || 0;\n            rect.y += style.y || 0;\n            if (this.hasStroke()) {\n                var w = style.lineWidth;\n                rect.x -= w / 2;\n                rect.y -= w / 2;\n                rect.width += w;\n                rect.height += w;\n            }\n            this._rect = rect;\n        }\n        return this._rect;\n    };\n    TSpan.initDefaultProps = (function () {\n        var tspanProto = TSpan.prototype;\n        tspanProto.dirtyRectTolerance = 10;\n    })();\n    return TSpan;\n}(Displayable));\nTSpan.prototype.type = 'tspan';\nexport default TSpan;\n"]},"metadata":{},"sourceType":"module"}