{"ast":null,"code":"import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable';\nimport BoundingRect from '../core/BoundingRect';\nimport { defaults, createObject } from '../core/util';\nexport var DEFAULT_IMAGE_STYLE = defaults({\n  x: 0,\n  y: 0\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_IMAGE_ANIMATION_PROPS = {\n  style: defaults({\n    x: true,\n    y: true,\n    width: true,\n    height: true,\n    sx: true,\n    sy: true,\n    sWidth: true,\n    sHeight: true\n  }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\n\nfunction isImageLike(source) {\n  return !!(source && typeof source !== 'string' && source.width && source.height);\n}\n\nvar ZRImage = function (_super) {\n  __extends(ZRImage, _super);\n\n  function ZRImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ZRImage.prototype.createStyle = function (obj) {\n    return createObject(DEFAULT_IMAGE_STYLE, obj);\n  };\n\n  ZRImage.prototype._getSize = function (dim) {\n    var style = this.style;\n    var size = style[dim];\n\n    if (size != null) {\n      return size;\n    }\n\n    var imageSource = isImageLike(style.image) ? style.image : this.__image;\n\n    if (!imageSource) {\n      return 0;\n    }\n\n    var otherDim = dim === 'width' ? 'height' : 'width';\n    var otherDimSize = style[otherDim];\n\n    if (otherDimSize == null) {\n      return imageSource[dim];\n    } else {\n      return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n    }\n  };\n\n  ZRImage.prototype.getWidth = function () {\n    return this._getSize('width');\n  };\n\n  ZRImage.prototype.getHeight = function () {\n    return this._getSize('height');\n  };\n\n  ZRImage.prototype.getAnimationStyleProps = function () {\n    return DEFAULT_IMAGE_ANIMATION_PROPS;\n  };\n\n  ZRImage.prototype.getBoundingRect = function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      this._rect = new BoundingRect(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n    }\n\n    return this._rect;\n  };\n\n  return ZRImage;\n}(Displayable);\n\nZRImage.prototype.type = 'image';\nexport default ZRImage;","map":{"version":3,"sources":["D:/桌面/react基础原理分析/react_extension/node_modules/zrender/lib/graphic/Image.js"],"names":["__extends","Displayable","DEFAULT_COMMON_STYLE","DEFAULT_COMMON_ANIMATION_PROPS","BoundingRect","defaults","createObject","DEFAULT_IMAGE_STYLE","x","y","DEFAULT_IMAGE_ANIMATION_PROPS","style","width","height","sx","sy","sWidth","sHeight","isImageLike","source","ZRImage","_super","apply","arguments","prototype","createStyle","obj","_getSize","dim","size","imageSource","image","__image","otherDim","otherDimSize","getWidth","getHeight","getAnimationStyleProps","getBoundingRect","_rect","type"],"mappings":"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","sourcesContent":["import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable';\nimport BoundingRect from '../core/BoundingRect';\nimport { defaults, createObject } from '../core/util';\nexport var DEFAULT_IMAGE_STYLE = defaults({\n    x: 0,\n    y: 0\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_IMAGE_ANIMATION_PROPS = {\n    style: defaults({\n        x: true,\n        y: true,\n        width: true,\n        height: true,\n        sx: true,\n        sy: true,\n        sWidth: true,\n        sHeight: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nfunction isImageLike(source) {\n    return !!(source\n        && typeof source !== 'string'\n        && source.width && source.height);\n}\nvar ZRImage = (function (_super) {\n    __extends(ZRImage, _super);\n    function ZRImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ZRImage.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_IMAGE_STYLE, obj);\n    };\n    ZRImage.prototype._getSize = function (dim) {\n        var style = this.style;\n        var size = style[dim];\n        if (size != null) {\n            return size;\n        }\n        var imageSource = isImageLike(style.image)\n            ? style.image : this.__image;\n        if (!imageSource) {\n            return 0;\n        }\n        var otherDim = dim === 'width' ? 'height' : 'width';\n        var otherDimSize = style[otherDim];\n        if (otherDimSize == null) {\n            return imageSource[dim];\n        }\n        else {\n            return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n        }\n    };\n    ZRImage.prototype.getWidth = function () {\n        return this._getSize('width');\n    };\n    ZRImage.prototype.getHeight = function () {\n        return this._getSize('height');\n    };\n    ZRImage.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_IMAGE_ANIMATION_PROPS;\n    };\n    ZRImage.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            this._rect = new BoundingRect(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n        }\n        return this._rect;\n    };\n    return ZRImage;\n}(Displayable));\nZRImage.prototype.type = 'image';\nexport default ZRImage;\n"]},"metadata":{},"sourceType":"module"}